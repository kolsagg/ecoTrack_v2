{"openapi":"3.1.0","info":{"title":"EcoTrack API","description":"QR-Based Digital Expense Tracking Application API","version":"1.0.0"},"paths":{"/health":{"get":{"tags":["Health Check"],"summary":"Health Check","description":"Temel sistem sağlık kontrolü","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check Health Get"}}}}}}},"/health/detailed":{"get":{"tags":["Health Check"],"summary":"Detailed Health Check","description":"Detaylı sistem sağlık kontrolü","operationId":"detailed_health_check_health_detailed_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Detailed Health Check Health Detailed Get"}}}}}}},"/health/database":{"get":{"tags":["Health Check"],"summary":"Database Health Check","description":"Veritabanı sağlık kontrolü","operationId":"database_health_check_health_database_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Database Health Check Health Database Get"}}}}}}},"/health/ai":{"get":{"tags":["Health Check"],"summary":"Ai Health Check","description":"AI servisi sağlık kontrolü","operationId":"ai_health_check_health_ai_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Ai Health Check Health Ai Get"}}}}}}},"/health/metrics":{"get":{"tags":["Health Check"],"summary":"System Metrics","description":"Sistem metrikleri (yetkilendirilmiş kullanıcılar için)","operationId":"system_metrics_health_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response System Metrics Health Metrics Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/health/ready":{"get":{"tags":["Health Check"],"summary":"Readiness Check","description":"Kubernetes/Docker readiness probe için","operationId":"readiness_check_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Readiness Check Health Ready Get"}}}}}}},"/health/live":{"get":{"tags":["Health Check"],"summary":"Liveness Check","description":"Kubernetes/Docker liveness probe için","operationId":"liveness_check_health_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Liveness Check Health Live Get"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"Login","description":"Login with email and password.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Login Api V1 Auth Login Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["auth"],"summary":"Register","description":"Register a new user.","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSignUp"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Register Api V1 Auth Register Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["auth"],"summary":"Reset Password","description":"Send password reset email.","operationId":"reset_password_api_v1_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Reset Password Api V1 Auth Reset Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password/confirm":{"post":{"tags":["auth"],"summary":"Confirm Reset","description":"Confirm password reset with token and new password.","operationId":"confirm_reset_api_v1_auth_reset_password_confirm_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Confirm Reset Api V1 Auth Reset Password Confirm Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/mfa/status":{"get":{"tags":["auth"],"summary":"Get Mfa Status","description":"Get MFA status for the current user.","operationId":"get_mfa_status_api_v1_auth_mfa_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Mfa Status Api V1 Auth Mfa Status Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/mfa/factors":{"get":{"tags":["auth"],"summary":"List Factors","description":"List all MFA factors for the current user.","operationId":"list_factors_api_v1_auth_mfa_factors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Factors Api V1 Auth Mfa Factors Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/mfa/totp/create":{"post":{"tags":["auth"],"summary":"Create Totp","description":"Create a new TOTP factor for MFA.","operationId":"create_totp_api_v1_auth_mfa_totp_create_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Totp Api V1 Auth Mfa Totp Create Post"}}}}}}},"/api/v1/auth/mfa/totp/verify":{"post":{"tags":["auth"],"summary":"Verify Totp","description":"Verify a TOTP factor during enrollment.","operationId":"verify_totp_api_v1_auth_mfa_totp_verify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyTOTPRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Verify Totp Api V1 Auth Mfa Totp Verify Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/mfa/totp/challenge":{"post":{"tags":["auth"],"summary":"Challenge Totp","description":"Challenge a TOTP factor during login.","operationId":"challenge_totp_api_v1_auth_mfa_totp_challenge_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyTOTPRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Challenge Totp Api V1 Auth Mfa Totp Challenge Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/mfa/totp/disable":{"post":{"tags":["auth"],"summary":"Disable Totp","description":"Disable TOTP factor for MFA.","operationId":"disable_totp_api_v1_auth_mfa_totp_disable_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DisableTOTPRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Disable Totp Api V1 Auth Mfa Totp Disable Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/account":{"delete":{"tags":["auth"],"summary":"Delete Account","description":"Delete user account and all associated data.\nRequires password verification for security.","operationId":"delete_account_api_v1_auth_account_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteAccountRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Delete Account Api V1 Auth Account Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/receipts/scan":{"post":{"tags":["receipts"],"summary":"Scan Qr Receipt","description":"Process QR code data and create receipt with expenses","operationId":"scan_qr_receipt_api_v1_receipts_scan_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QRReceiptRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QRReceiptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]},{"HTTPBearer":[]}]}},"/api/v1/receipts":{"get":{"tags":["receipts"],"summary":"List Receipts","description":"List user's receipts with filtering, pagination and sorting","operationId":"list_receipts_api_v1_receipts_get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"merchant","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by merchant name","title":"Merchant"},"description":"Filter by merchant name"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter from date","title":"Date From"},"description":"Filter from date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter to date","title":"Date To"},"description":"Filter to date"},{"name":"min_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Minimum amount filter","title":"Min Amount"},"description":"Minimum amount filter"},{"name":"max_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum amount filter","title":"Max Amount"},"description":"Maximum amount filter"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Sort field","default":"transaction_date","title":"Sort By"},"description":"Sort field"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","pattern":"^(asc|desc)$","description":"Sort order","default":"desc","title":"Sort Order"},"description":"Sort order"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReceiptListResponse"},"title":"Response List Receipts Api V1 Receipts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/receipts/{receipt_id}":{"get":{"tags":["receipts"],"summary":"Get Receipt Detail","description":"Get detailed receipt information with expenses","operationId":"get_receipt_detail_api_v1_receipts__receipt_id__get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"receipt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Receipt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiptDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/receipts/public/{receipt_id}":{"get":{"tags":["receipts"],"summary":"Get Public Receipt","description":"Get public receipt information without authentication\nThis endpoint is used when someone scans a QR code but is not logged in\nReturns basic receipt information for public viewing","operationId":"get_public_receipt_api_v1_receipts_public__receipt_id__get","parameters":[{"name":"receipt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Receipt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/receipts/receipt/{receipt_id}":{"get":{"tags":["receipts"],"summary":"Get Receipt Web View","description":"Web view for receipt - serves HTML page for public receipt viewing\nThis endpoint is accessed when someone visits the URL from QR code","operationId":"get_receipt_web_view_api_v1_receipts_receipt__receipt_id__get","parameters":[{"name":"receipt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Receipt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/expenses":{"post":{"tags":["expenses"],"summary":"Create Manual Expense","description":"Create a manual expense entry with multiple items (auto-creates receipt)","operationId":"create_manual_expense_api_v1_expenses_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ManualExpenseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["expenses"],"summary":"List Expenses","description":"List user's expenses (summary) with filtering, pagination and sorting","operationId":"list_expenses_api_v1_expenses_get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Limit"},"description":"Items per page"},{"name":"merchant","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by merchant name","title":"Merchant"},"description":"Filter by merchant name"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter from date","title":"Date From"},"description":"Filter from date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter to date","title":"Date To"},"description":"Filter to date"},{"name":"min_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Minimum amount filter","title":"Min Amount"},"description":"Minimum amount filter"},{"name":"max_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum amount filter","title":"Max Amount"},"description":"Maximum amount filter"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Sort field","default":"expense_date","title":"Sort By"},"description":"Sort field"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","pattern":"^(asc|desc)$","description":"Sort order","default":"desc","title":"Sort Order"},"description":"Sort order"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExpenseListResponse"},"title":"Response List Expenses Api V1 Expenses Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/expenses/{expense_id}":{"get":{"tags":["expenses"],"summary":"Get Expense","description":"Get a specific expense by ID with all items","operationId":"get_expense_api_v1_expenses__expense_id__get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Expense Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["expenses"],"summary":"Update Expense","description":"Update an existing expense (summary level only)","operationId":"update_expense_api_v1_expenses__expense_id__put","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Expense Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["expenses"],"summary":"Delete Expense","description":"Delete an expense and all its items","operationId":"delete_expense_api_v1_expenses__expense_id__delete","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Expense Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/expenses/{expense_id}/items":{"post":{"tags":["expenses"],"summary":"Create Expense Item","description":"Add a new item to an existing expense","operationId":"create_expense_item_api_v1_expenses__expense_id__items_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Expense Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseItemCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["expenses"],"summary":"List Expense Items","description":"List all items for a specific expense","operationId":"list_expense_items_api_v1_expenses__expense_id__items_get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Expense Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExpenseItemResponse"},"title":"Response List Expense Items Api V1 Expenses  Expense Id  Items Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/expenses/{expense_id}/items/{item_id}":{"put":{"tags":["expenses"],"summary":"Update Expense Item","description":"Update an expense item","operationId":"update_expense_item_api_v1_expenses__expense_id__items__item_id__put","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Expense Id"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseItemUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["expenses"],"summary":"Delete Expense Item","description":"Delete an expense item","operationId":"delete_expense_item_api_v1_expenses__expense_id__items__item_id__delete","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"expense_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Expense Id"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/categories":{"get":{"tags":["categories"],"summary":"List Categories","description":"List all categories (predefined + user's custom categories)","operationId":"list_categories_api_v1_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CategoryResponse"},"type":"array","title":"Response List Categories Api V1 Categories Get"}}}}},"security":[{"HTTPBearer":[]},{"HTTPBearer":[]}]},"post":{"tags":["categories"],"summary":"Create Category","description":"Create a new custom category for the user","operationId":"create_category_api_v1_categories_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]},{"HTTPBearer":[]}]}},"/api/v1/categories/{category_id}":{"put":{"tags":["categories"],"summary":"Update Category","description":"Update a user's custom category","operationId":"update_category_api_v1_categories__category_id__put","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Category Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["categories"],"summary":"Delete Category","description":"Delete a user's custom category","operationId":"delete_category_api_v1_categories__category_id__delete","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Category Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/merchants/":{"post":{"tags":["merchants"],"summary":"Create Merchant","description":"Create a new merchant partner (Admin only)\n\nCreates a new merchant with auto-generated API key for webhook integration.","operationId":"create_merchant_api_v1_merchants__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["merchants"],"summary":"List Merchants","description":"List all merchant partners (Admin only)\n\nReturns paginated list of merchants with optional filtering by active status.","operationId":"list_merchants_api_v1_merchants__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size","default":20,"title":"Size"},"description":"Page size"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/merchants/{merchant_id}":{"get":{"tags":["merchants"],"summary":"Get Merchant","description":"Get merchant by ID (Admin only)","operationId":"get_merchant_api_v1_merchants__merchant_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["merchants"],"summary":"Update Merchant","description":"Update merchant information (Admin only)","operationId":"update_merchant_api_v1_merchants__merchant_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["merchants"],"summary":"Deactivate Merchant","description":"Deactivate merchant partnership (Admin only)\n\nThis doesn't delete the merchant but sets is_active to False.","operationId":"deactivate_merchant_api_v1_merchants__merchant_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/merchants/{merchant_id}/regenerate-api-key":{"post":{"tags":["merchants"],"summary":"Regenerate Api Key","description":"Regenerate API key for merchant (Admin only)\n\nReturns the new API key. The old key will be immediately invalidated.","operationId":"regenerate_api_key_api_v1_merchants__merchant_id__regenerate_api_key_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/merchant/{merchant_id}/transaction":{"post":{"tags":["webhooks"],"summary":"Receive Merchant Transaction","description":"Receive real-time transaction data from merchant POS systems\n\nThis endpoint processes incoming transaction data from merchant partners,\nmatches customers, and automatically creates receipts and expenses.\n\nRequires valid merchant API key in X-API-Key header.","operationId":"receive_merchant_transaction_api_v1_webhooks_merchant__merchant_id__transaction_post","parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}},{"name":"x-api-key","in":"header","required":true,"schema":{"type":"string","description":"Merchant API key","title":"X-Api-Key"},"description":"Merchant API key"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookTransactionData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookProcessingResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/merchant/{merchant_id}/test-transaction":{"post":{"tags":["webhooks"],"summary":"Test Merchant Transaction","description":"Test endpoint for merchant integration testing (Admin only)\n\nAllows testing of the webhook processing flow without requiring\na valid merchant API key. Used for integration testing.","operationId":"test_merchant_transaction_api_v1_webhooks_merchant__merchant_id__test_transaction_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestTransactionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookProcessingResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/merchant/{merchant_id}/logs":{"get":{"tags":["webhooks"],"summary":"Get Webhook Logs","description":"Get webhook delivery logs and status tracking (Admin only)\n\nReturns paginated webhook logs for a specific merchant with optional status filtering.","operationId":"get_webhook_logs_api_v1_webhooks_merchant__merchant_id__logs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size","default":20,"title":"Size"},"description":"Page size"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/WebhookStatus"},{"type":"null"}],"description":"Filter by webhook status","title":"Status"},"description":"Filter by webhook status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookLogListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/logs/{log_id}/retry":{"post":{"tags":["webhooks"],"summary":"Retry Webhook","description":"Retry a failed webhook processing (Admin only)\n\nAttempts to reprocess a failed webhook. Only works for webhooks\nwith 'failed' status and retry count less than maximum.","operationId":"retry_webhook_api_v1_webhooks_logs__log_id__retry_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"log_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Log Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/merchant/{merchant_id}/stats":{"get":{"tags":["webhooks"],"summary":"Get Webhook Stats","description":"Get webhook statistics for a merchant (Admin only)\n\nReturns summary statistics including success rate, total transactions, etc.","operationId":"get_webhook_stats_api_v1_webhooks_merchant__merchant_id__stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reviews/merchants/{merchant_id}/reviews":{"post":{"tags":["reviews"],"summary":"Create Merchant Review","description":"Create a review for a merchant","operationId":"create_merchant_review_api_v1_reviews_merchants__merchant_id__reviews_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["reviews"],"summary":"Get Merchant Reviews","description":"Get reviews for a merchant with rating summary","operationId":"get_merchant_reviews_api_v1_reviews_merchants__merchant_id__reviews_get","parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantReviewsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reviews/merchants/{merchant_id}/rating":{"get":{"tags":["reviews"],"summary":"Get Merchant Rating","description":"Get merchant rating summary only","operationId":"get_merchant_rating_api_v1_reviews_merchants__merchant_id__rating_get","parameters":[{"name":"merchant_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Merchant Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MerchantRatingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reviews/reviews/{review_id}":{"put":{"tags":["reviews"],"summary":"Update Review","description":"Update a review (only by the review author)","operationId":"update_review_api_v1_reviews_reviews__review_id__put","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"review_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Review Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["reviews"],"summary":"Delete Review","description":"Delete a review (only by the review author)","operationId":"delete_review_api_v1_reviews_reviews__review_id__delete","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"review_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Review Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reviews/receipts/{receipt_id}/review":{"post":{"tags":["reviews"],"summary":"Create Review From Receipt","description":"Create a merchant review triggered by a receipt (authenticated users)","operationId":"create_review_from_receipt_api_v1_reviews_receipts__receipt_id__review_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"receipt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Receipt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reviews/receipts/{receipt_id}/review/anonymous":{"post":{"tags":["reviews"],"summary":"Create Anonymous Review From Receipt","description":"Create an anonymous merchant review triggered by a receipt (no authentication required)","operationId":"create_anonymous_review_from_receipt_api_v1_reviews_receipts__receipt_id__review_anonymous_post","parameters":[{"name":"receipt_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Receipt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api/ai/analytics/summary":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Analytics Summary","description":"Get comprehensive spending analytics summary for charts and visualizations\n\nProvides data structured for frontend charts including:\n- Overview metrics (7 days, 30 days)\n- Category breakdown for pie charts\n- Daily spending trends for line charts\n- Top merchants by spending","operationId":"get_analytics_summary_api_v1_api_ai_analytics_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyticsSummaryResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api/ai/analysis/spending-patterns":{"post":{"tags":["AI Analysis","AI Analysis"],"summary":"Analyze Spending Patterns","description":"Analyze user's spending patterns over specified period\n\nIdentifies patterns in:\n- Daily spending habits\n- Category concentration\n- Spending variance and trends\n\nIncludes AI-generated insights when available.","operationId":"analyze_spending_patterns_api_v1_api_ai_analysis_spending_patterns_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpendingPatternRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpendingPatternResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Spending Patterns","description":"Analyze daily/weekly spending patterns\n\nProvides insights into:\n- Daily spending habits (which days you spend most/least)\n- Weekly spending variance\n- Pattern-based recommendations","operationId":"get_spending_patterns_api_v1_api_ai_analysis_spending_patterns_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":180,"minimum":30,"description":"Number of days to analyze","default":60,"title":"Days"},"description":"Number of days to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api/ai/suggestions/savings":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Savings Suggestions","description":"Generate personalized savings suggestions based on spending analysis\n\nAnalyzes last 60 days of spending to identify:\n- High-spending categories with savings potential\n- AI-generated actionable savings tips\n- Potential monthly savings amounts","operationId":"get_savings_suggestions_api_v1_api_ai_suggestions_savings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavingsSuggestionsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api/ai/suggestions/budget":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Budget Suggestions","description":"Generate budget planning suggestions based on spending history\n\nAnalyzes last 90 days of spending to provide:\n- Category-wise spending analysis\n- Recommended monthly budgets per category\n- AI-powered budget optimization insights","operationId":"get_budget_suggestions_api_v1_api_ai_suggestions_budget_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetSuggestionsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api/ai/analysis/recurring-expenses":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Recurring Expenses","description":"Identify recurring expense patterns\n\nAnalyzes expense history to find:\n- Regularly occurring expenses (subscriptions, bills, etc.)\n- Frequency patterns (daily, weekly, monthly)\n- Amount consistency and confidence scores","operationId":"get_recurring_expenses_api_v1_api_ai_analysis_recurring_expenses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":30,"description":"Number of days to analyze","default":90,"title":"Days"},"description":"Number of days to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api/ai/analysis/price-changes":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Price Changes","description":"Track price changes for products over time\n\nMonitors product prices across purchases to identify:\n- Significant price increases/decreases\n- Price trends for frequently purchased items\n- Best time to buy based on price history","operationId":"get_price_changes_api_v1_api_ai_analysis_price_changes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":60,"description":"Number of days to analyze","default":180,"title":"Days"},"description":"Number of days to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api/ai/analysis/product-expiration":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Product Expiration","description":"Track product expiration dates from receipt data\n\nAnalyzes recent purchases to identify:\n- Products expiring within 7 days\n- Estimated expiration dates based on product type\n- Waste prevention alerts","operationId":"get_product_expiration_api_v1_api_ai_analysis_product_expiration_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api/ai/analysis/advanced":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Get Advanced Analysis","description":"Get comprehensive advanced analysis combining all features\n\nProvides a complete analysis including:\n- Recurring expense patterns\n- Price change alerts\n- Product expiration warnings","operationId":"get_advanced_analysis_api_v1_api_ai_analysis_advanced_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvancedAnalysisResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api/ai/health":{"get":{"tags":["AI Analysis","AI Analysis"],"summary":"Ai Service Health","description":"Check AI service health and availability\n\nReturns status of:\n- AI analysis service\n- Ollama model availability\n- Service capabilities","operationId":"ai_service_health_api_v1_api_ai_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/reports/health":{"get":{"tags":["Financial Reporting"],"summary":"Reporting Service Health Check","description":"Public health check for reporting service","operationId":"health_check_api_v1_reports_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/reports/spending-distribution":{"post":{"tags":["Financial Reporting"],"summary":"Get Spending Distribution","description":"Get spending distribution data for pie/bar charts\n\n**Chart Types Supported:**\n- pie: Pie chart\n- donut: Donut chart  \n- bar: Bar chart\n\n**Distribution Types:**\n- category: Group by expense categories\n- merchant: Group by merchant names","operationId":"get_spending_distribution_api_v1_reports_spending_distribution_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpendingDistributionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpendingDistributionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Financial Reporting"],"summary":"Get Spending Distribution Simple","description":"Get spending distribution data (GET version with query parameters)","operationId":"get_spending_distribution_simple_api_v1_reports_spending_distribution_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"distribution_type","in":"query","required":true,"schema":{"type":"string","description":"Distribution type: category or merchant","title":"Distribution Type"},"description":"Distribution type: category or merchant"},{"name":"chart_type","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ChartType","description":"Chart type","default":"pie"},"description":"Chart type"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Maximum items to return","default":10,"title":"Limit"},"description":"Maximum items to return"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date filter","title":"Start Date"},"description":"Start date filter"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date filter","title":"End Date"},"description":"End date filter"},{"name":"min_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number","minimum":0},{"type":"null"}],"description":"Minimum amount filter","title":"Min Amount"},"description":"Minimum amount filter"},{"name":"max_amount","in":"query","required":false,"schema":{"anyOf":[{"type":"number","minimum":0},{"type":"null"}],"description":"Maximum amount filter","title":"Max Amount"},"description":"Maximum amount filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpendingDistributionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/spending-trends":{"get":{"tags":["Financial Reporting"],"summary":"Get Spending Trends","description":"Get spending trends over time for line/area charts\n\n**Aggregation Periods:**\n- daily: Daily aggregation\n- weekly: Weekly aggregation\n- monthly: Monthly aggregation\n- quarterly: Quarterly aggregation\n- yearly: Yearly aggregation\n\n**Returns:** Time-series data suitable for Chart.js line/area charts","operationId":"get_spending_trends_api_v1_reports_spending_trends_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"aggregation_period","in":"query","required":false,"schema":{"$ref":"#/components/schemas/AggregationPeriod","description":"Time aggregation period","default":"monthly"},"description":"Time aggregation period"},{"name":"chart_type","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ChartType","description":"Chart type","default":"line"},"description":"Chart type"},{"name":"include_average","in":"query","required":false,"schema":{"type":"boolean","description":"Include average trend line","default":true,"title":"Include Average"},"description":"Include average trend line"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date filter","title":"Start Date"},"description":"Start date filter"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date filter","title":"End Date"},"description":"End date filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/category-spending-over-time":{"get":{"tags":["Financial Reporting"],"summary":"Get Category Spending Over Time","description":"Get category spending over time for multi-line or stacked charts\n\n**Returns:** Multi-dataset time-series data for comparing categories over time","operationId":"get_category_spending_over_time_api_v1_reports_category_spending_over_time_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"aggregation_period","in":"query","required":false,"schema":{"$ref":"#/components/schemas/AggregationPeriod","description":"Time aggregation period","default":"monthly"},"description":"Time aggregation period"},{"name":"chart_type","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ChartType","description":"Chart type","default":"line"},"description":"Chart type"},{"name":"stacked","in":"query","required":false,"schema":{"type":"boolean","description":"Whether to stack categories","default":false,"title":"Stacked"},"description":"Whether to stack categories"},{"name":"category_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated category IDs","title":"Category Ids"},"description":"Comma-separated category IDs"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date filter","title":"Start Date"},"description":"Start date filter"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date filter","title":"End Date"},"description":"End date filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/budget-vs-actual":{"get":{"tags":["Financial Reporting"],"summary":"Get Budget Vs Actual","description":"Get budget vs actual spending comparison\n\n**Note:** Uses AI-generated budget suggestions as budget baseline\n\n**Returns:** Grouped bar chart data comparing budgeted vs actual amounts","operationId":"get_budget_vs_actual_api_v1_reports_budget_vs_actual_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Budget period start date","title":"Period Start"},"description":"Budget period start date"},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Budget period end date","title":"Period End"},"description":"Budget period end date"},{"name":"chart_type","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ChartType","description":"Chart type","default":"bar"},"description":"Chart type"},{"name":"category_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated category IDs","title":"Category Ids"},"description":"Comma-separated category IDs"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/dashboard":{"get":{"tags":["Financial Reporting"],"summary":"Get Dashboard Data","description":"Get comprehensive dashboard data with summary metrics and quick charts\n\n**Includes:**\n- Monthly spending summary\n- Month-over-month comparison\n- Top spending category\n- Quick visualization data\n- Recent transactions\n- Financial alerts","operationId":"get_dashboard_data_api_v1_reports_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/reports/export":{"get":{"tags":["Financial Reporting"],"summary":"Export Report","description":"Export financial reports in various formats\n\n**Supported Formats:**\n- csv: Comma-separated values\n- xlsx: Excel spreadsheet\n- pdf: PDF document\n\n**Report Types:**\n- spending-distribution\n- spending-trends\n- category-analysis\n- budget-comparison","operationId":"export_report_api_v1_reports_export_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"report_type","in":"query","required":true,"schema":{"type":"string","description":"Type of report to export","title":"Report Type"},"description":"Type of report to export"},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Export format: csv, xlsx, pdf","default":"csv","title":"Format"},"description":"Export format: csv, xlsx, pdf"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date filter","title":"Start Date"},"description":"Start date filter"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date filter","title":"End Date"},"description":"End date filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/custom":{"get":{"tags":["Financial Reporting"],"summary":"Generate Custom Report","description":"Generate custom financial reports with user-defined metrics and dimensions\n\n**Available Metrics:**\n- total_amount, average_amount, transaction_count, category_count\n\n**Available Dimensions:**\n- category, merchant, date, day_of_week, month","operationId":"generate_custom_report_api_v1_reports_custom_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"report_name","in":"query","required":true,"schema":{"type":"string","description":"Custom report name","title":"Report Name"},"description":"Custom report name"},{"name":"metrics","in":"query","required":true,"schema":{"type":"string","description":"Comma-separated metrics to include","title":"Metrics"},"description":"Comma-separated metrics to include"},{"name":"dimensions","in":"query","required":true,"schema":{"type":"string","description":"Comma-separated dimensions to group by","title":"Dimensions"},"description":"Comma-separated dimensions to group by"},{"name":"chart_type","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ChartType","description":"Chart type","default":"bar"},"description":"Chart type"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date filter","title":"Start Date"},"description":"Start date filter"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date filter","title":"End Date"},"description":"End date filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/loyalty/status":{"get":{"tags":["Loyalty Program"],"summary":"Get Loyalty Status","description":"Get user's current loyalty status including points, level, and progress","operationId":"get_loyalty_status_api_v1_loyalty_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoyaltyStatusResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/loyalty/calculate-points":{"get":{"tags":["Loyalty Program"],"summary":"Calculate Points","description":"Calculate loyalty points for a given expense amount\nUseful for showing users how many points they would earn","operationId":"calculate_points_api_v1_loyalty_calculate_points_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"amount","in":"query","required":true,"schema":{"type":"number","exclusiveMinimum":0,"description":"Expense amount","title":"Amount"},"description":"Expense amount"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Expense category","title":"Category"},"description":"Expense category"},{"name":"merchant_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Merchant name","title":"Merchant Name"},"description":"Merchant name"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PointsCalculationResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/loyalty/history":{"get":{"tags":["Loyalty Program"],"summary":"Get Loyalty History","description":"Get user's loyalty points history from recent expenses","operationId":"get_loyalty_history_api_v1_loyalty_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of records","default":50,"title":"Limit"},"description":"Maximum number of records"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/loyalty/levels":{"get":{"tags":["Loyalty Program"],"summary":"Get Loyalty Levels","description":"Get information about all loyalty levels and their requirements","operationId":"get_loyalty_levels_api_v1_loyalty_levels_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/devices/register":{"post":{"tags":["Device Management"],"summary":"Register Device","description":"Kullanıcının cihazını ve FCM token'ını kaydet","operationId":"register_device_api_v1_devices_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceRegistrationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Register Device Api V1 Devices Register Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/devices/":{"get":{"tags":["Device Management"],"summary":"Get User Devices","description":"Kullanıcının kayıtlı cihazlarını listele","operationId":"get_user_devices_api_v1_devices__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DeviceResponse"},"type":"array","title":"Response Get User Devices Api V1 Devices  Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/devices/{device_id}/deactivate":{"put":{"tags":["Device Management"],"summary":"Deactivate Device","description":"Cihazı deaktif et (FCM token'ını geçersiz kıl)","operationId":"deactivate_device_api_v1_devices__device_id__deactivate_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"string","title":"Device Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/devices/{device_id}":{"delete":{"tags":["Device Management"],"summary":"Delete Device","description":"Cihazı tamamen sil","operationId":"delete_device_api_v1_devices__device_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"string","title":"Device Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Ana endpoint - API bilgileri","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/protected":{"get":{"summary":"Protected Route","description":"Korumalı test endpoint'i","operationId":"protected_route_protected_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"AIInsight":{"properties":{"ai_analysis":{"type":"string","title":"Ai Analysis","description":"AI analysis text"},"confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence","description":"Confidence score"},"generated_by":{"type":"string","title":"Generated By","description":"AI model used"}},"type":"object","required":["ai_analysis","confidence","generated_by"],"title":"AIInsight","description":"AI-generated insight"},"AdvancedAnalysisResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Analysis status"},"recurring_expenses":{"items":{"$ref":"#/components/schemas/RecurringExpensePattern"},"type":"array","title":"Recurring Expenses","description":"Recurring expense patterns"},"price_changes":{"items":{"$ref":"#/components/schemas/PriceChangeAlert"},"type":"array","title":"Price Changes","description":"Price change alerts"},"expiration_alerts":{"items":{"$ref":"#/components/schemas/ProductExpirationAlert"},"type":"array","title":"Expiration Alerts","description":"Product expiration alerts"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","description":"Generation time"}},"type":"object","required":["status","recurring_expenses","price_changes","expiration_alerts","generated_at"],"title":"AdvancedAnalysisResponse","description":"Response for advanced analysis features"},"AggregationPeriod":{"type":"string","enum":["daily","weekly","monthly","quarterly","yearly"],"title":"AggregationPeriod","description":"Aggregation period options"},"AnalysisPeriod":{"type":"string","enum":["7_days","30_days","90_days"],"title":"AnalysisPeriod","description":"Analysis period options"},"AnalyticsSummaryResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Generation status"},"overview":{"additionalProperties":{"$ref":"#/components/schemas/OverviewMetrics"},"type":"object","title":"Overview","description":"Overview metrics by period"},"category_breakdown":{"items":{"$ref":"#/components/schemas/CategoryBreakdown"},"type":"array","title":"Category Breakdown","description":"Spending by category"},"daily_spending":{"items":{"$ref":"#/components/schemas/DailySpending"},"type":"array","title":"Daily Spending","description":"Daily spending trend"},"top_merchants":{"items":{"$ref":"#/components/schemas/TopMerchant"},"type":"array","title":"Top Merchants","description":"Top merchants by spending"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","description":"Generation time"}},"type":"object","required":["status","overview","category_breakdown","daily_spending","top_merchants","generated_at"],"title":"AnalyticsSummaryResponse","description":"Response for analytics summary"},"BudgetRecommendation":{"properties":{"current_spending":{"type":"number","title":"Current Spending","description":"Current spending amount"},"suggested_monthly_budget":{"type":"number","title":"Suggested Monthly Budget","description":"Suggested monthly budget"},"current_percentage":{"type":"number","title":"Current Percentage","description":"Current percentage of total spending"},"recommendation":{"type":"string","title":"Recommendation","description":"Recommendation text"}},"type":"object","required":["current_spending","suggested_monthly_budget","current_percentage","recommendation"],"title":"BudgetRecommendation","description":"Budget recommendation for a category"},"BudgetSuggestionsResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Generation status"},"analysis_period":{"type":"string","title":"Analysis Period","description":"Period analyzed"},"category_analysis":{"additionalProperties":{"$ref":"#/components/schemas/CategoryAnalysis"},"type":"object","title":"Category Analysis","description":"Analysis by category"},"budget_recommendations":{"additionalProperties":{"$ref":"#/components/schemas/BudgetRecommendation"},"type":"object","title":"Budget Recommendations","description":"Budget recommendations"},"ai_insights":{"anyOf":[{"$ref":"#/components/schemas/AIInsight"},{"type":"null"}],"description":"AI-generated budget insights"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","description":"Generation time"}},"type":"object","required":["status","analysis_period","category_analysis","budget_recommendations","ai_insights","generated_at"],"title":"BudgetSuggestionsResponse","description":"Response for budget suggestions"},"BusinessType":{"type":"string","enum":["restaurant","retail","grocery","pharmacy","gas_station","clothing","electronics","other"],"title":"BusinessType"},"CategoryAnalysis":{"properties":{"total_amount":{"type":"number","title":"Total Amount","description":"Total amount spent in category"},"transaction_count":{"type":"integer","title":"Transaction Count","description":"Number of transactions"},"avg_transaction":{"type":"number","title":"Avg Transaction","description":"Average transaction amount"}},"type":"object","required":["total_amount","transaction_count","avg_transaction"],"title":"CategoryAnalysis","description":"Category spending analysis"},"CategoryBreakdown":{"properties":{"category":{"type":"string","title":"Category","description":"Category name"},"amount":{"type":"number","title":"Amount","description":"Amount spent"},"percentage":{"type":"number","title":"Percentage","description":"Percentage of total"}},"type":"object","required":["category","amount","percentage"],"title":"CategoryBreakdown","description":"Category breakdown for charts"},"CategoryCreateRequest":{"properties":{"name":{"type":"string","maxLength":50,"minLength":1,"title":"Name","description":"Category name"}},"type":"object","required":["name"],"title":"CategoryCreateRequest","description":"Request schema for category creation"},"CategoryResponse":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Category ID (null for system categories)"},"name":{"type":"string","title":"Name","description":"Category name"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID (null for system categories)"},"is_system":{"type":"boolean","title":"Is System","description":"Is system category"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"Creation date"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At","description":"Update date"}},"type":"object","required":["name","is_system"],"title":"CategoryResponse","description":"Response schema for category"},"CategoryUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":50,"minLength":1},{"type":"null"}],"title":"Name","description":"Category name"}},"type":"object","title":"CategoryUpdateRequest","description":"Request schema for category update"},"ChartType":{"type":"string","enum":["pie","bar","line","area","donut"],"title":"ChartType","description":"Chart type options"},"ConfirmResetRequest":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["token","new_password"],"title":"ConfirmResetRequest"},"CustomerInfo":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"card_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Card Hash","description":"Hashed card number for matching"},"card_last_four":{"anyOf":[{"type":"string","maxLength":4,"minLength":4},{"type":"null"}],"title":"Card Last Four","description":"Last 4 digits of card"},"card_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Card Type","description":"Card type (visa, mastercard, etc.)"}},"type":"object","title":"CustomerInfo"},"DailySpending":{"properties":{"date":{"type":"string","title":"Date","description":"Date (YYYY-MM-DD)"},"amount":{"type":"number","title":"Amount","description":"Amount spent"}},"type":"object","required":["date","amount"],"title":"DailySpending","description":"Daily spending data point"},"DashboardResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Response status"},"summary":{"$ref":"#/components/schemas/DashboardSummary","description":"Dashboard summary"},"quick_charts":{"additionalProperties":true,"type":"object","title":"Quick Charts","description":"Quick chart data"},"recent_transactions":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Recent Transactions","description":"Recent transactions"},"alerts":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Alerts","description":"Financial alerts"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","description":"Dashboard generation time"}},"type":"object","required":["status","summary","quick_charts","recent_transactions","alerts","generated_at"],"title":"DashboardResponse","description":"Dashboard data response"},"DashboardSummary":{"properties":{"total_spending_current_month":{"type":"number","title":"Total Spending Current Month","description":"Current month total spending"},"total_spending_previous_month":{"type":"number","title":"Total Spending Previous Month","description":"Previous month total spending"},"month_over_month_change":{"type":"number","title":"Month Over Month Change","description":"Month over month change percentage"},"top_category":{"type":"string","title":"Top Category","description":"Top spending category"},"top_category_amount":{"type":"number","title":"Top Category Amount","description":"Top category spending amount"},"transaction_count":{"type":"integer","title":"Transaction Count","description":"Total transactions this month"},"average_transaction":{"type":"number","title":"Average Transaction","description":"Average transaction amount"},"budget_utilization":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budget Utilization","description":"Budget utilization percentage"}},"type":"object","required":["total_spending_current_month","total_spending_previous_month","month_over_month_change","top_category","top_category_amount","transaction_count","average_transaction","budget_utilization"],"title":"DashboardSummary","description":"Dashboard summary data"},"DeleteAccountRequest":{"properties":{"password":{"type":"string","title":"Password"}},"type":"object","required":["password"],"title":"DeleteAccountRequest"},"DeviceRegistrationRequest":{"properties":{"device_id":{"type":"string","title":"Device Id"},"fcm_token":{"type":"string","title":"Fcm Token"},"device_type":{"type":"string","title":"Device Type"},"device_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Name"},"app_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Version"},"os_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Os Version"}},"type":"object","required":["device_id","fcm_token","device_type"],"title":"DeviceRegistrationRequest"},"DeviceResponse":{"properties":{"id":{"type":"string","title":"Id"},"device_id":{"type":"string","title":"Device Id"},"device_type":{"type":"string","title":"Device Type"},"device_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Name"},"is_active":{"type":"boolean","title":"Is Active"},"last_used_at":{"type":"string","title":"Last Used At"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","device_id","device_type","device_name","is_active","last_used_at","created_at"],"title":"DeviceResponse"},"DisableTOTPRequest":{"properties":{"factor_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Factor Id"},"code":{"type":"string","title":"Code"}},"type":"object","required":["code"],"title":"DisableTOTPRequest"},"ExpenseItemCreateRequest":{"properties":{"category_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category Id","description":"Category ID"},"description":{"type":"string","maxLength":200,"minLength":1,"title":"Description","description":"Item description"},"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount","description":"Item amount"},"quantity":{"type":"integer","exclusiveMinimum":0.0,"title":"Quantity","description":"Item quantity","default":1},"unit_price":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Unit Price","description":"Unit price"},"kdv_rate":{"type":"number","title":"Kdv Rate","description":"KDV (VAT) rate for this item (1%, 10%, 20%)","default":20.0},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes","description":"Item notes"}},"type":"object","required":["description","amount"],"title":"ExpenseItemCreateRequest","description":"Request schema for creating expense item"},"ExpenseItemResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Expense item ID"},"expense_id":{"type":"string","title":"Expense Id","description":"Parent expense ID"},"category_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category Id","description":"Category ID"},"category_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category Name","description":"Category name"},"description":{"type":"string","title":"Description","description":"Item description"},"amount":{"type":"number","title":"Amount","description":"Item amount"},"quantity":{"type":"integer","title":"Quantity","description":"Item quantity"},"unit_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Unit Price","description":"Unit price"},"kdv_rate":{"type":"number","title":"Kdv Rate","description":"KDV (VAT) rate for this item"},"kdv_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Kdv Amount","description":"Calculated KDV amount"},"amount_without_kdv":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Amount Without Kdv","description":"Amount without KDV"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Item notes"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation date"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Update date"}},"type":"object","required":["id","expense_id","description","amount","quantity","kdv_rate","created_at","updated_at"],"title":"ExpenseItemResponse","description":"Response schema for expense item"},"ExpenseItemUpdateRequest":{"properties":{"category_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category Id","description":"Category ID"},"description":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Description","description":"Item description"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Amount","description":"Item amount"},"quantity":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Quantity","description":"Item quantity"},"kdv_rate":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Kdv Rate","description":"KDV (VAT) rate for this item"},"unit_price":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Unit Price","description":"Unit price"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes","description":"Item notes"}},"type":"object","title":"ExpenseItemUpdateRequest","description":"Request schema for updating expense item"},"ExpenseListResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Expense ID"},"receipt_id":{"type":"string","title":"Receipt Id","description":"Receipt ID"},"total_amount":{"type":"number","title":"Total Amount","description":"Total amount"},"expense_date":{"type":"string","format":"date-time","title":"Expense Date","description":"Expense date"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"General notes"},"items_count":{"type":"integer","title":"Items Count","description":"Number of items"},"merchant_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant Name","description":"Merchant name"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source","description":"Source type"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation date"}},"type":"object","required":["id","receipt_id","total_amount","expense_date","items_count","created_at"],"title":"ExpenseListResponse","description":"Response schema for expense list (summary)"},"ExpenseResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Expense ID"},"receipt_id":{"type":"string","title":"Receipt Id","description":"Receipt ID"},"total_amount":{"type":"number","title":"Total Amount","description":"Total amount of all items"},"expense_date":{"type":"string","format":"date-time","title":"Expense Date","description":"Expense date"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"General notes"},"items":{"items":{"$ref":"#/components/schemas/ExpenseItemResponse"},"type":"array","title":"Items","description":"Expense items"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code","description":"Base64 encoded QR code for receipt"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation date"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Update date"}},"type":"object","required":["id","receipt_id","total_amount","expense_date","created_at","updated_at"],"title":"ExpenseResponse","description":"Response schema for expense (summary/container)"},"ExpenseUpdateRequest":{"properties":{"expense_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expense Date","description":"Expense date"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes","description":"General notes"}},"type":"object","title":"ExpenseUpdateRequest","description":"Request schema for expense update (summary level)"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoyaltyLevel":{"type":"string","enum":["bronze","silver","gold","platinum"],"title":"LoyaltyLevel","description":"Loyalty program levels"},"LoyaltyStatusResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"points":{"type":"integer","minimum":0.0,"title":"Points","description":"Current loyalty points"},"level":{"anyOf":[{"$ref":"#/components/schemas/LoyaltyLevel"},{"type":"null"}],"description":"Current loyalty level"},"points_to_next_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Points To Next Level","description":"Points needed for next level"},"next_level":{"anyOf":[{"$ref":"#/components/schemas/LoyaltyLevel"},{"type":"null"}],"description":"Next achievable level"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"}},"type":"object","required":["user_id","points","last_updated"],"title":"LoyaltyStatusResponse","description":"Response model for loyalty status"},"ManualExpenseRequest":{"properties":{"merchant_name":{"type":"string","maxLength":100,"minLength":1,"title":"Merchant Name","description":"Merchant name"},"expense_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expense Date","description":"Expense date"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes","description":"General notes"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Currency code","default":"TRY"},"items":{"items":{"$ref":"#/components/schemas/ExpenseItemCreateRequest"},"type":"array","minItems":1,"title":"Items","description":"Expense items"}},"type":"object","required":["merchant_name","items"],"title":"ManualExpenseRequest","description":"Request schema for manual expense entry"},"MerchantCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Merchant name"},"business_type":{"anyOf":[{"$ref":"#/components/schemas/BusinessType"},{"type":"null"}],"description":"Type of business"},"contact_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Contact Email","description":"Contact email"},"contact_phone":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Contact Phone","description":"Contact phone"},"address":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Address","description":"Business address"},"tax_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Tax Number","description":"Tax identification number"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url","description":"Webhook URL for transaction notifications"},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings","description":"Additional merchant settings"}},"type":"object","required":["name"],"title":"MerchantCreate"},"MerchantListResponse":{"properties":{"merchants":{"items":{"$ref":"#/components/schemas/MerchantResponse"},"type":"array","title":"Merchants"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"},"has_next":{"type":"boolean","title":"Has Next"}},"type":"object","required":["merchants","total","page","size","has_next"],"title":"MerchantListResponse"},"MerchantRatingResponse":{"properties":{"merchant_id":{"type":"string","title":"Merchant Id","description":"Merchant ID"},"merchant_name":{"type":"string","title":"Merchant Name","description":"Merchant name"},"total_reviews":{"type":"integer","title":"Total Reviews","description":"Total number of reviews"},"average_rating":{"type":"number","title":"Average Rating","description":"Average rating"},"rating_distribution":{"additionalProperties":true,"type":"object","title":"Rating Distribution","description":"Distribution of ratings (1-5)"}},"type":"object","required":["merchant_id","merchant_name","total_reviews","average_rating","rating_distribution"],"title":"MerchantRatingResponse","description":"Response schema for merchant rating summary"},"MerchantResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"business_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Business Type"},"api_key":{"type":"string","title":"Api Key"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"is_active":{"type":"boolean","title":"Is Active"},"contact_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Email"},"contact_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Phone"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"tax_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Number"},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","business_type","api_key","webhook_url","is_active","contact_email","contact_phone","address","tax_number","settings","created_at","updated_at"],"title":"MerchantResponse"},"MerchantReviewsResponse":{"properties":{"merchant_rating":{"$ref":"#/components/schemas/MerchantRatingResponse","description":"Merchant rating summary"},"recent_reviews":{"items":{"$ref":"#/components/schemas/ReviewResponse"},"type":"array","title":"Recent Reviews","description":"Recent reviews"},"user_review":{"anyOf":[{"$ref":"#/components/schemas/ReviewResponse"},{"type":"null"}],"description":"Current user's review if exists"}},"type":"object","required":["merchant_rating"],"title":"MerchantReviewsResponse","description":"Response schema for merchant reviews with stats"},"MerchantUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"business_type":{"anyOf":[{"$ref":"#/components/schemas/BusinessType"},{"type":"null"}]},"contact_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Contact Email"},"contact_phone":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Contact Phone"},"address":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Address"},"tax_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Tax Number"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"}},"type":"object","title":"MerchantUpdate"},"OverviewMetrics":{"properties":{"total_amount":{"type":"number","title":"Total Amount","description":"Total amount spent"},"transaction_count":{"type":"integer","title":"Transaction Count","description":"Number of transactions"},"avg_transaction":{"type":"number","title":"Avg Transaction","description":"Average transaction amount"}},"type":"object","required":["total_amount","transaction_count","avg_transaction"],"title":"OverviewMetrics","description":"Overview metrics for a period"},"PointsCalculationResult":{"properties":{"base_points":{"type":"integer","title":"Base Points","description":"Base points from amount"},"bonus_points":{"type":"integer","title":"Bonus Points","description":"Bonus points from multipliers","default":0},"total_points":{"type":"integer","title":"Total Points","description":"Total points earned"},"calculation_details":{"additionalProperties":true,"type":"object","title":"Calculation Details","description":"Calculation breakdown"}},"type":"object","required":["base_points","total_points"],"title":"PointsCalculationResult","description":"Result of points calculation"},"PriceChangeAlert":{"properties":{"product_name":{"type":"string","title":"Product Name","description":"Product name"},"merchant":{"type":"string","title":"Merchant","description":"Merchant name"},"previous_price":{"type":"number","title":"Previous Price","description":"Previous price"},"current_price":{"type":"number","title":"Current Price","description":"Current price"},"price_change":{"type":"number","title":"Price Change","description":"Price change amount"},"price_change_percentage":{"type":"number","title":"Price Change Percentage","description":"Price change percentage"},"first_seen":{"type":"string","format":"date-time","title":"First Seen","description":"First price recorded"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated","description":"Last price update"}},"type":"object","required":["product_name","merchant","previous_price","current_price","price_change","price_change_percentage","first_seen","last_updated"],"title":"PriceChangeAlert","description":"Price change alert for products"},"ProductExpirationAlert":{"properties":{"product_name":{"type":"string","title":"Product Name","description":"Product name"},"expiration_date":{"type":"string","format":"date-time","title":"Expiration Date","description":"Expiration date"},"days_until_expiration":{"type":"integer","title":"Days Until Expiration","description":"Days until expiration"},"purchase_date":{"type":"string","format":"date-time","title":"Purchase Date","description":"Purchase date"},"merchant":{"type":"string","title":"Merchant","description":"Merchant where purchased"},"amount_paid":{"type":"number","title":"Amount Paid","description":"Amount paid for product"}},"type":"object","required":["product_name","expiration_date","days_until_expiration","purchase_date","merchant","amount_paid"],"title":"ProductExpirationAlert","description":"Product expiration alert"},"QRReceiptRequest":{"properties":{"qr_data":{"type":"string","title":"Qr Data","description":"Raw QR code data"}},"type":"object","required":["qr_data"],"title":"QRReceiptRequest","description":"Request schema for QR receipt scanning"},"QRReceiptResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Processing success"},"message":{"type":"string","title":"Message","description":"Response message"},"receipt_id":{"type":"string","title":"Receipt Id","description":"Created receipt ID"},"merchant_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant Name","description":"Merchant name"},"total_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Amount","description":"Total amount"},"currency":{"type":"string","title":"Currency","description":"Currency","default":"TRY"},"expenses_count":{"type":"integer","title":"Expenses Count","description":"Number of expenses created"},"processing_confidence":{"type":"number","title":"Processing Confidence","description":"Processing confidence"},"public_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Public Url","description":"Public URL for viewing receipt"}},"type":"object","required":["success","message","receipt_id","expenses_count","processing_confidence"],"title":"QRReceiptResponse","description":"Response schema for QR receipt processing"},"ReceiptDetailResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Receipt ID"},"merchant_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant Name","description":"Merchant name"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date","description":"Transaction date"},"total_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Amount","description":"Total amount"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Currency"},"source":{"type":"string","title":"Source","description":"Source type"},"raw_qr_data":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Qr Data","description":"Raw QR data"},"parsed_receipt_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parsed Receipt Data","description":"Parsed data"},"expenses":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Expenses","description":"Associated expenses"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation date"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Update date"}},"type":"object","required":["id","source","created_at","updated_at"],"title":"ReceiptDetailResponse","description":"Response schema for receipt detail"},"ReceiptListResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Receipt ID"},"merchant_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant Name","description":"Merchant name"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date","description":"Transaction date"},"total_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Amount","description":"Total amount"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Currency"},"source":{"type":"string","title":"Source","description":"Source type"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation date"}},"type":"object","required":["id","source","created_at"],"title":"ReceiptListResponse","description":"Response schema for receipt list"},"RecurringExpensePattern":{"properties":{"description":{"type":"string","title":"Description","description":"Expense description pattern"},"merchant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant","description":"Merchant name"},"amount_range":{"additionalProperties":{"type":"number"},"type":"object","title":"Amount Range","description":"Amount range (min, max, avg)"},"frequency":{"type":"string","title":"Frequency","description":"Frequency (daily, weekly, monthly)"},"last_occurrence":{"type":"string","format":"date-time","title":"Last Occurrence","description":"Last occurrence date"},"confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence","description":"Pattern confidence"}},"type":"object","required":["description","merchant","amount_range","frequency","last_occurrence","confidence"],"title":"RecurringExpensePattern","description":"Recurring expense pattern"},"ReportingFilters":{"properties":{"start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Start Date","description":"Start date for filtering"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date","description":"End date for filtering"},"category_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Category Ids","description":"List of category IDs to filter"},"merchant_names":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Merchant Names","description":"List of merchant names to filter"},"min_amount":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Min Amount","description":"Minimum amount filter"},"max_amount":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Max Amount","description":"Maximum amount filter"}},"type":"object","title":"ReportingFilters","description":"Common filters for reporting endpoints"},"ResetPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"ResetPasswordRequest"},"ReviewCreateRequest":{"properties":{"rating":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Rating","description":"Rating from 1 to 5 stars"},"comment":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Comment","description":"Review comment"},"reviewer_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reviewer Name","description":"Reviewer name (for anonymous reviews)"},"reviewer_email":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Reviewer Email","description":"Reviewer email (for anonymous reviews)"},"is_anonymous":{"type":"boolean","title":"Is Anonymous","description":"Whether this is an anonymous review","default":false},"receipt_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receipt Id","description":"Receipt ID that triggered this review (optional)"}},"type":"object","required":["rating"],"title":"ReviewCreateRequest","description":"Request schema for creating a merchant review"},"ReviewResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Review ID"},"merchant_id":{"type":"string","title":"Merchant Id","description":"Merchant ID"},"rating":{"type":"integer","title":"Rating","description":"Rating from 1 to 5"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"Review comment"},"reviewer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reviewer Name","description":"Reviewer name"},"is_anonymous":{"type":"boolean","title":"Is Anonymous","description":"Is anonymous review"},"receipt_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receipt Id","description":"Receipt ID that triggered this review"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation date"}},"type":"object","required":["id","merchant_id","rating","is_anonymous","created_at"],"title":"ReviewResponse","description":"Response schema for review"},"ReviewUpdateRequest":{"properties":{"rating":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Rating","description":"Updated rating"},"comment":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Comment","description":"Updated comment"}},"type":"object","title":"ReviewUpdateRequest","description":"Request schema for updating a review"},"SavingsSuggestion":{"properties":{"type":{"type":"string","title":"Type","description":"Suggestion type"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Related category"},"current_spending":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Spending","description":"Current spending amount"},"potential_savings":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Potential Savings","description":"Potential savings"},"suggestion":{"type":"string","title":"Suggestion","description":"Suggestion text"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority","description":"Priority level"},"confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence","description":"Confidence score"}},"type":"object","required":["type","category","current_spending","potential_savings","suggestion","priority","confidence"],"title":"SavingsSuggestion","description":"Individual savings suggestion"},"SavingsSuggestionsResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Generation status"},"analysis_period":{"type":"string","title":"Analysis Period","description":"Period analyzed"},"total_analyzed_amount":{"type":"number","title":"Total Analyzed Amount","description":"Total amount analyzed"},"potential_monthly_savings":{"type":"number","title":"Potential Monthly Savings","description":"Total potential monthly savings"},"suggestions":{"items":{"$ref":"#/components/schemas/SavingsSuggestion"},"type":"array","title":"Suggestions","description":"Savings suggestions"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","description":"Generation time"}},"type":"object","required":["status","analysis_period","total_analyzed_amount","potential_monthly_savings","suggestions","generated_at"],"title":"SavingsSuggestionsResponse","description":"Response for savings suggestions"},"SpendingDistributionItem":{"properties":{"label":{"type":"string","title":"Label","description":"Category or merchant name"},"value":{"type":"number","title":"Value","description":"Total amount spent"},"percentage":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Percentage","description":"Percentage of total spending"},"color":{"type":"string","title":"Color","description":"Hex color code for visualization"},"count":{"type":"integer","title":"Count","description":"Number of transactions"}},"type":"object","required":["label","value","percentage","color","count"],"title":"SpendingDistributionItem","description":"Single item in spending distribution"},"SpendingDistributionRequest":{"properties":{"distribution_type":{"type":"string","title":"Distribution Type","description":"Type of distribution (category, merchant)"},"filters":{"anyOf":[{"$ref":"#/components/schemas/ReportingFilters"},{"type":"null"}],"description":"Filtering options"},"chart_type":{"$ref":"#/components/schemas/ChartType","description":"Preferred chart type","default":"pie"},"limit":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Limit","description":"Maximum number of items to return","default":10}},"type":"object","required":["distribution_type"],"title":"SpendingDistributionRequest","description":"Request for spending distribution report"},"SpendingDistributionResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Response status"},"distribution_type":{"type":"string","title":"Distribution Type","description":"Type of distribution"},"total_amount":{"type":"number","title":"Total Amount","description":"Total amount in the distribution"},"total_transactions":{"type":"integer","title":"Total Transactions","description":"Total number of transactions"},"distribution_data":{"items":{"$ref":"#/components/schemas/SpendingDistributionItem"},"type":"array","title":"Distribution Data","description":"Distribution data"},"chart_config":{"additionalProperties":true,"type":"object","title":"Chart Config","description":"Chart configuration suggestions"},"filters_applied":{"anyOf":[{"$ref":"#/components/schemas/ReportingFilters"},{"type":"null"}],"description":"Applied filters"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","description":"Report generation time"}},"type":"object","required":["status","distribution_type","total_amount","total_transactions","distribution_data","chart_config","filters_applied","generated_at"],"title":"SpendingDistributionResponse","description":"Response for spending distribution report"},"SpendingPattern":{"properties":{"type":{"type":"string","title":"Type","description":"Pattern type"},"description":{"type":"string","title":"Description","description":"Pattern description"},"metrics":{"$ref":"#/components/schemas/SpendingPatternMetrics","description":"Pattern metrics"}},"type":"object","required":["type","description","metrics"],"title":"SpendingPattern","description":"Individual spending pattern"},"SpendingPatternMetrics":{"properties":{"average_daily":{"type":"number","title":"Average Daily","description":"Average daily spending"},"highest_daily":{"type":"number","title":"Highest Daily","description":"Highest daily spending"},"lowest_daily":{"type":"number","title":"Lowest Daily","description":"Lowest daily spending"},"variance":{"type":"number","title":"Variance","description":"Spending variance"}},"type":"object","required":["average_daily","highest_daily","lowest_daily","variance"],"title":"SpendingPatternMetrics","description":"Spending pattern metrics"},"SpendingPatternRequest":{"properties":{"analysis_period":{"$ref":"#/components/schemas/AnalysisPeriod","description":"Period to analyze","default":"30_days"},"include_ai_insights":{"type":"boolean","title":"Include Ai Insights","description":"Include AI-generated insights","default":true}},"type":"object","title":"SpendingPatternRequest","description":"Request for spending pattern analysis"},"SpendingPatternResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Analysis status"},"analysis_period":{"type":"string","title":"Analysis Period","description":"Period analyzed"},"total_expenses":{"type":"integer","title":"Total Expenses","description":"Total number of expenses"},"total_amount":{"type":"number","title":"Total Amount","description":"Total amount spent"},"patterns":{"items":{"$ref":"#/components/schemas/SpendingPattern"},"type":"array","title":"Patterns","description":"Identified patterns"},"ai_insights":{"anyOf":[{"$ref":"#/components/schemas/AIInsight"},{"type":"null"}],"description":"AI-generated insights"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","description":"Analysis generation time"}},"type":"object","required":["status","analysis_period","total_expenses","total_amount","patterns","ai_insights","generated_at"],"title":"SpendingPatternResponse","description":"Response for spending pattern analysis"},"TestTransactionRequest":{"properties":{"transaction_data":{"$ref":"#/components/schemas/WebhookTransactionData"},"test_mode":{"type":"boolean","title":"Test Mode","description":"Indicates this is a test transaction","default":true}},"type":"object","required":["transaction_data"],"title":"TestTransactionRequest"},"TopMerchant":{"properties":{"merchant":{"type":"string","title":"Merchant","description":"Merchant name"},"total_amount":{"type":"number","title":"Total Amount","description":"Total amount spent"}},"type":"object","required":["merchant","total_amount"],"title":"TopMerchant","description":"Top merchant data"},"TransactionItem":{"properties":{"description":{"type":"string","minLength":1,"title":"Description","description":"Item description"},"quantity":{"type":"integer","minimum":1.0,"title":"Quantity","description":"Item quantity"},"unit_price":{"type":"number","minimum":0.0,"title":"Unit Price","description":"Unit price"},"total_price":{"type":"number","minimum":0.0,"title":"Total Price","description":"Total price for this item"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Item category"}},"type":"object","required":["description","quantity","unit_price","total_price"],"title":"TransactionItem"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserLogin"},"UserSignUp":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"}},"type":"object","required":["email","password","first_name","last_name"],"title":"UserSignUp"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerifyTOTPRequest":{"properties":{"factor_id":{"type":"string","title":"Factor Id"},"code":{"type":"string","title":"Code"}},"type":"object","required":["factor_id","code"],"title":"VerifyTOTPRequest"},"WebhookLogListResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/WebhookLogResponse"},"type":"array","title":"Logs"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"},"has_next":{"type":"boolean","title":"Has Next"}},"type":"object","required":["logs","total","page","size","has_next"],"title":"WebhookLogListResponse"},"WebhookLogResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"merchant_id":{"type":"string","format":"uuid","title":"Merchant Id"},"transaction_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Id"},"status":{"$ref":"#/components/schemas/WebhookStatus"},"response_code":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Code"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"},"retry_count":{"type":"integer","title":"Retry Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","merchant_id","transaction_id","status","response_code","error_message","processing_time_ms","retry_count","created_at"],"title":"WebhookLogResponse"},"WebhookProcessingResult":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"transaction_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Id"},"matched_user_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Matched User Id"},"created_receipt_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Created Receipt Id"},"created_expense_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Created Expense Id"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"},"errors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Errors"}},"type":"object","required":["success","message","processing_time_ms"],"title":"WebhookProcessingResult"},"WebhookStatus":{"type":"string","enum":["success","failed","retry","pending"],"title":"WebhookStatus"},"WebhookTransactionData":{"properties":{"transaction_id":{"type":"string","title":"Transaction Id","description":"Unique transaction ID from merchant"},"merchant_transaction_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Merchant Transaction Id","description":"Internal merchant transaction ID"},"total_amount":{"type":"number","minimum":0.0,"title":"Total Amount","description":"Total transaction amount"},"currency":{"type":"string","title":"Currency","description":"Currency code","default":"TRY"},"transaction_date":{"type":"string","format":"date-time","title":"Transaction Date","description":"Transaction timestamp"},"customer_info":{"$ref":"#/components/schemas/CustomerInfo","description":"Customer information for matching"},"items":{"items":{"$ref":"#/components/schemas/TransactionItem"},"type":"array","minItems":1,"title":"Items","description":"Transaction items"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method","description":"Payment method used"},"receipt_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receipt Number","description":"Receipt number"},"cashier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cashier Id","description":"Cashier identifier"},"store_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Store Location","description":"Store location/branch"},"additional_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Additional Data","description":"Additional transaction data"}},"type":"object","required":["transaction_id","total_amount","transaction_date","customer_info","items"],"title":"WebhookTransactionData"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}